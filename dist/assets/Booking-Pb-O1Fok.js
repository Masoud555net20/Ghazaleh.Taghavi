import{r as e,j as t}from"./react-vendor-DoBMNYf5.js";import{C as n,U as o,a as r,B as s,b as a,c as i}from"./index-BHz2idtm.js";import{j as l}from"./jalaali-DJ9sLLam.js";import"./vendor-Ddn1oRwg.js";class c{constructor(e){this.botToken=e.botToken,this.chatId=e.chatId,this.baseUrl=`https://api.telegram.org/bot${this.botToken}`}async sendMessage(e){try{const t=`${this.baseUrl}/sendMessage`,n={chat_id:this.chatId,text:e.text,parse_mode:e.parse_mode||"HTML",disable_notification:e.disable_notification||!1};console.log("Sending Telegram message:",n);const o=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!o.ok)throw new Error(`Telegram API error: ${o.status} ${o.statusText}`);const r=await o.json();return console.log("Telegram response:",r),r}catch(t){return console.error("Error sending Telegram message:",t),{ok:!1,description:t.message,error_code:500}}}async sendConsultationNotification(e){const t=this.formatConsultationMessage(e);return this.sendMessage({text:t,parse_mode:"HTML",disable_notification:!1})}formatConsultationMessage(e){const t=(new Date).toLocaleString("fa-IR"),n=e.id||"Ù†Ø§Ù…Ø´Ø®Øµ",o={phone:"ğŸ“ ØªÙ„ÙÙ†ÛŒ",video:"ğŸ¥ ÙˆÛŒØ¯Ø¦ÙˆÛŒÛŒ",in_person:"ğŸ¢ Ø­Ø¶ÙˆØ±ÛŒ"}[e.consultation_type]||e.consultation_type,r=new Date(e.preferred_date).toLocaleDateString("fa-IR");let s="";return s+="ğŸ“‹ <b>Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø±Ø²Ø±Ùˆ Ù…Ø´Ø§ÙˆØ±Ù‡ Ø¬Ø¯ÛŒØ¯</b>\n\n",s+="ğŸ‘¤ <b>Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ:</b>\n",s+=`   ${e.name}\n\n`,s+="ğŸ“± <b>Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†:</b>\n",s+=`   ${e.phone}\n\n`,(e.province||e.city)&&(s+="ğŸŒ <b>Ù…Ú©Ø§Ù†:</b>\n",e.province&&(s+=`   ğŸ›ï¸ Ø§Ø³ØªØ§Ù†: ${e.province}\n`),e.city&&(s+=`   ğŸ™ï¸ Ø´Ù‡Ø±: ${e.city}\n`),s+="\n"),e.consultation_topic&&(s+="ğŸ“‹ <b>Ù…ÙˆØ¶ÙˆØ¹ Ù…Ø´Ø§ÙˆØ±Ù‡:</b>\n",s+=`   ${e.consultation_topic}\n\n`),e.problem_description&&(s+="ğŸ“ <b>Ø´Ø±Ø­ Ù…Ø´Ú©Ù„:</b>\n",s+=`   ${e.problem_description}\n\n`),s+="ğŸ“… <b>Ø²Ù…Ø§Ù† Ø±Ø²Ø±Ùˆ:</b>\n",s+=`   ğŸ“… ØªØ§Ø±ÛŒØ®: ${r}\n`,s+=`   â° Ø²Ù…Ø§Ù†: ${e.preferred_time}\n`,s+=`   ğŸ”§ Ù†ÙˆØ¹ Ù…Ø´Ø§ÙˆØ±Ù‡: ${o}\n\n`,e.message&&(s+="ğŸ’¬ <b>ØªÙˆØ¶ÛŒØ­Ø§Øª:</b>\n",s+=`   ${e.message}\n\n`),(e.national_id||e.documents)&&(s+="ğŸ“ <b>Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÚ©Ù…ÛŒÙ„ÛŒ:</b>\n",e.national_id&&(s+=`   ğŸ†” Ú©Ø¯ Ù…Ù„ÛŒ: ${e.national_id}\n`),e.documents&&(s+=`   ğŸ“„ Ù…Ø¯Ø§Ø±Ú©: ${e.documents}\n`),s+="\n"),s+="â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n",s+=`â° <b>Ø²Ù…Ø§Ù† Ø«Ø¨Øª:</b> ${t}\n`,s+=`ğŸ†” <b>Ø´Ù…Ø§Ø±Ù‡ Ø±Ø²Ø±Ùˆ:</b> ${n}\n`,s+="â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n",s+="âœ… <b>Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯!</b>",s}async testConnection(){try{const e=`${this.baseUrl}/getMe`,t=await fetch(e);if(!t.ok)throw new Error(`Telegram API error: ${t.status} ${t.statusText}`);const n=await t.json();return n.ok?{ok:!0,result:{message:`âœ… Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø±Ø¨Ø§Øª ${n.result.first_name} Ø¨Ø±Ù‚Ø±Ø§Ø± Ø´Ø¯!`}}:{ok:!1,description:n.description||"Ø®Ø·Ø§ Ø¯Ø± Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø±Ø¨Ø§Øª"}}catch(e){return console.error("Error testing Telegram connection:",e),{ok:!1,description:e.message,error_code:500}}}}const d=new class{constructor(){this.apiUrl="https://public-api.masoud555net.workers.dev/api/public/consultations",this.telegramService=new c({botToken:"8481483757:AAHOwwlXsUNX4Mv3txGU1INxyYtbjC2qk-A",chatId:"-1003103943086",parseMode:"HTML"})}async createConsultation(e){try{if(!(e.name&&e.phone&&e.preferred_date&&e.preferred_time))return{success:!1,error:"Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ù„Ø²Ø§Ù…ÛŒ Ú©Ø§Ù…Ù„ Ù†ÛŒØ³ØªÙ†Ø¯"};if(!/^\d{4}-\d{2}-\d{2}$/.test(e.preferred_date))return{success:!1,error:"ÙØ±Ù…Øª ØªØ§Ø±ÛŒØ® Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª"};if(!e.preferred_time)return{success:!1,error:"Ø²Ù…Ø§Ù† Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯"};const t=await fetch(this.apiUrl,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});if(!t.ok){let e="Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª";switch(t.status){case 400:e="Ø®Ø·Ø§ Ø¯Ø± Ø§Ø¹ØªØ¨Ø§Ø± Ø³Ù†Ø¬ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§: Ù„Ø·ÙØ§Ù‹ ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯";break;case 409:e="Ø§ÛŒÙ† Ø²Ù…Ø§Ù† Ù‚Ø¨Ù„Ø§Ù‹ Ø±Ø²Ø±Ùˆ Ø´Ø¯Ù‡ Ø§Ø³Øª";break;case 422:e="Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ÙˆØ±ÙˆØ¯ÛŒ Ù…Ø¹ØªØ¨Ø± Ù†ÛŒØ³ØªÙ†Ø¯";break;case 500:e="Ø®Ø·Ø§ Ø¯Ø± Ø³Ø±ÙˆØ±ØŒ Ù„Ø·ÙØ§Ù‹ Ø¨Ø¹Ø¯Ø§Ù‹ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯"}return{success:!1,error:e}}const n=await t.json();return n.success&&n.data&&this.telegramService&&this.telegramService.sendConsultationNotification(e).catch(e=>{console.warn("Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù† ØªÙ„Ú¯Ø±Ø§Ù…:",e)}),n}catch(t){let e="Ø®Ø·Ø§ Ø¯Ø± Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø³Ø±ÙˆØ±";return t instanceof TypeError&&t.message.includes("fetch")?e="Ø®Ø·Ø§ Ø¯Ø± Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª ÛŒØ§ Ø³Ø±ÙˆØ±":t instanceof Error&&(t.message.includes("Network Error")?e="Ø®Ø·Ø§ Ø¯Ø± Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª":t.message.includes("timeout")&&(e="Ù¾Ø§Ø³Ø® Ø§Ø² Ø³Ø±ÙˆØ± Ø¯Ø±ÛŒØ§ÙØª Ù†Ø´Ø¯ØŒ Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯")),{success:!1,error:e}}}async sendTelegramNotification(e){if(this.telegramService)try{await this.telegramService.sendConsultationNotification(e)}catch(t){throw console.error("Error sending Telegram notification:",t),t}else console.warn("Telegram service not available")}async sendTelegramNotificationViaWorker(e){try{const t=`${"https://public-api.masoud555net.workers.dev/api/public/consultations"}/telegram-notification`;console.log("Sending Telegram notification via main Worker:",t);const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw new Error(`Worker error! status: ${n.status}`);const o=await n.json();if(!o.success)throw new Error(`Telegram notification failed: ${o.error}`);console.log("Main Worker Telegram response:",o)}catch(t){throw console.error("Error sending Telegram notification via main Worker:",t),t}}async getConsultations(){try{const e=await fetch(this.apiUrl,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){return console.error("Error fetching consultations:",e),{success:!1,error:"Ø®Ø·Ø§ Ø¯Ø± Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø³Ø±ÙˆØ±. Ù„Ø·ÙØ§Ù‹ Ø¨Ø¹Ø¯Ø§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯."}}}async getConsultation(e){try{const t=await fetch(`${this.apiUrl}/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){return console.error("Error fetching consultation:",t),{success:!1,error:"Ø®Ø·Ø§ Ø¯Ø± Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø³Ø±ÙˆØ±. Ù„Ø·ÙØ§Ù‹ Ø¨Ø¹Ø¯Ø§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯."}}}},u=e=>{const t=["Û°","Û±","Û²","Û³","Û´","Ûµ","Û¶","Û·","Û¸","Û¹"];return e.toString().replace(/\d/g,e=>t[parseInt(e)])},p=({id:n,label:o,name:r,value:s,onChange:a,icon:i,required:c=!0})=>{const[d,p]=e.useState(!1),[h,x]=e.useState(()=>{const e=new Date;return l.toJalaali(e).jm-1}),[m,g]=e.useState(()=>{const e=new Date;return l.toJalaali(e).jy}),b=e=>l.toJalaali(e),j=(e,t,n)=>{const o=l.toGregorian(e,t,n);return new Date(o.gy,o.gm-1,o.gd)},v=["ÙØ±ÙˆØ±Ø¯ÛŒÙ†","Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª","Ø®Ø±Ø¯Ø§Ø¯","ØªÛŒØ±","Ù…Ø±Ø¯Ø§Ø¯","Ø´Ù‡Ø±ÛŒÙˆØ±","Ù…Ù‡Ø±","Ø¢Ø¨Ø§Ù†","Ø¢Ø°Ø±","Ø¯ÛŒ","Ø¨Ù‡Ù…Ù†","Ø§Ø³ÙÙ†Ø¯"],f=e=>{if(!e)return!1;const t=b(new Date);return t.jy===m&&t.jm-1===h&&t.jd===e},y=e=>{"prev"===e?0===h?(x(11),g(m-1)):x(h-1):11===h?(x(0),g(m+1)):x(h+1)},w=((e,t)=>{const n=j(e,t+1,1).getDay(),o=l.jalaaliMonthLength(e,t+1),r=[];for(let s=0;s<n;s++)r.push(null);for(let s=1;s<=o;s++)r.push(s);return r})(m,h);return t.jsxs("div",{children:[t.jsxs("label",{htmlFor:n,className:"block text-base font-bold text-gray-800 mb-2",children:[o," ",c&&t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none text-gray-400",children:i}),t.jsx("button",{type:"button",onClick:()=>p(!d),className:"w-full p-4 pr-12 text-right border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition bg-white text-lg",children:(()=>{if(!s)return"Ø§Ù†ØªØ®Ø§Ø¨ ØªØ§Ø±ÛŒØ®";try{if(console.log("Input value for date display:",s),s.includes("-")){const e=s.split("-");if(3!==e.length)return console.error("Invalid date format:",s),"Ø§Ù†ØªØ®Ø§Ø¨ ØªØ§Ø±ÛŒØ®";const t=parseInt(e[0],10),n=parseInt(e[1],10)-1,o=parseInt(e[2],10),r=new Date(t,n,o,12,0,0);if(isNaN(r.getTime()))return console.error("Invalid date:",s),"Ø§Ù†ØªØ®Ø§Ø¨ ØªØ§Ø±ÛŒØ®";const a=b(r),i=`${u(a.jd)} ${v[a.jm-1]} ${u(a.jy)}`;return console.log("Converted date:",s,"to",i),i}return s}catch(e){return console.error("Error parsing date:",e,"Value:",s),"Ø§Ù†ØªØ®Ø§Ø¨ ØªØ§Ø±ÛŒØ®"}})()}),t.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none text-gray-400",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})}),d&&t.jsxs("div",{className:"absolute top-full left-0 mt-2 w-80 bg-white border border-gray-200 rounded-xl shadow-xl z-50 overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-purple-50 border-b border-blue-200",children:[t.jsx("button",{type:"button",onClick:()=>y("prev"),className:"p-2 hover:bg-white/50 rounded-lg transition-colors",children:t.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),t.jsxs("div",{className:"text-lg font-bold text-gray-800 bg-white/80 px-4 py-2 rounded-lg shadow-sm",children:[v[h]," ",u(m)]}),t.jsx("button",{type:"button",onClick:()=>y("next"),className:"p-2 hover:bg-white/50 rounded-lg transition-colors",children:t.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]}),t.jsx("div",{className:"grid grid-cols-7 gap-1 p-3 bg-gray-50",children:["Ø´","ÛŒ","Ø¯","Ø³","Ú†","Ù¾","Ø¬"].map((e,n)=>t.jsx("div",{className:"p-2 text-center text-sm font-bold text-gray-600 bg-white rounded-lg mx-1",children:e},n))}),t.jsx("div",{className:"grid grid-cols-7 gap-1 p-2",children:w.map((e,n)=>t.jsx("button",{type:"button",onClick:()=>(e=>{if(e){const t=j(m,h+1,e);t.setHours(12,0,0,0);const n=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`;console.log("Selected date (Gregorian):",n),console.log("Selected date (Jalali):",b(t));const o=b(t),r=`${u(o.jd)} ${v[o.jm-1]} ${u(o.jy)}`;console.log("Jalali display:",r),a(n),p(!1)}})(e),disabled:!e,className:"p-2 text-sm rounded-lg transition-all duration-200 "+(e?f(e)?"bg-red-500 text-white font-bold shadow-md hover:bg-red-600 cursor-pointer":"text-gray-700 hover:bg-blue-500 hover:text-white cursor-pointer":"text-transparent cursor-default"),children:e?u(e):""},n))}),t.jsx("div",{className:"p-3 border-t border-gray-200 text-center",children:t.jsxs("button",{type:"button",onClick:()=>{const e=b(new Date);x(e.jm-1),g(e.jy)},className:"px-4 py-2 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:["Ø§Ù…Ø±ÙˆØ² (",u((()=>{const e=new Date;return l.toJalaali(e).jy})()),")"]})})]})]}),d&&t.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>p(!1)})]})},h=({id:e,label:n,type:o,name:r,value:s,onChange:a,icon:i,required:l=!0})=>t.jsxs("div",{children:[t.jsx("label",{htmlFor:e,className:"block text-base font-bold text-gray-800 mb-2",children:n}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none text-gray-400",children:i}),t.jsx("input",{type:o,id:e,name:r,value:s,onChange:a,required:l,className:"w-full p-4 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-lg"})]})]}),x=({id:e,label:n,name:o,value:r,onChange:s,icon:a,children:i,required:l=!0})=>t.jsxs("div",{children:[t.jsx("label",{htmlFor:e,className:"block text-base font-bold text-gray-800 mb-2",children:n}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none text-gray-400",children:a}),t.jsx("select",{id:e,name:o,value:r,onChange:s,required:l,className:"w-full p-4 pr-12 appearance-none bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-lg",children:i}),t.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none text-gray-400",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),m=()=>{const[l,c]=e.useState({name:"",phone:"",national_id:"",province:"",city:"",consultationType:"",consultation_topic:"",problem_description:"",documents:"",date:"",time:"",message:""}),[m,g]=e.useState(!1),[b,j]=e.useState(!1),[v,f]=e.useState(null),y=e=>{const{name:t,value:n}=e.target;let o=n;"phone"!==t&&"national_id"!==t||!n||(o=u(n)),c(e=>({...e,[t]:o}))};return m?t.jsx("section",{id:"booking",className:"py-20 bg-gray-100",children:t.jsx("div",{className:"container mx-auto px-6 text-center",children:t.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-lg",children:[t.jsx(n,{}),t.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-800",children:"Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯"}),t.jsx("p",{className:"text-gray-600",children:"Ù…ØªØ´Ú©Ø±ÛŒÙ…. Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø±Ø²Ø±Ùˆ ÙˆÙ‚Øª Ù…Ø´Ø§ÙˆØ±Ù‡ Ø«Ø¨Øª Ú¯Ø±Ø¯ÛŒØ¯. Ù‡Ù…Ú©Ø§Ø±Ø§Ù† Ù…Ø§ Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ Ù†Ù‡Ø§ÛŒÛŒ Ø¨Ø§ Ø´Ù…Ø§ ØªÙ…Ø§Ø³ Ø®ÙˆØ§Ù‡Ù†Ø¯ Ú¯Ø±ÙØª."})]})})}):t.jsx("section",{id:"booking",className:"py-20 bg-gray-100",children:t.jsxs("div",{className:"container mx-auto px-6",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800",children:"Ø±Ø²Ø±Ùˆ ÙˆÙ‚Øª Ù…Ø´Ø§ÙˆØ±Ù‡"}),t.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"ÙØ±Ù… Ø²ÛŒØ± Ø±Ø§ ØªÚ©Ù…ÛŒÙ„ Ú©Ù†ÛŒØ¯ ØªØ§ Ø§ÙˆÙ„ÛŒÙ† Ù‚Ø¯Ù… Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø­Ù„ Ù…Ø´Ú©Ù„ Ø­Ù‚ÙˆÙ‚ÛŒ Ø®ÙˆØ¯ Ø¨Ø±Ø¯Ø§Ø±ÛŒØ¯."}),t.jsx("div",{className:"mt-4 w-24 h-1 bg-blue-700 mx-auto rounded"})]}),t.jsx("div",{className:"max-w-2xl mx-auto",children:t.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),j(!0),f(null),l.national_id&&!(e=>{if(!e)return!0;const t=(e=>{const t=["Û°","Û±","Û²","Û³","Û´","Ûµ","Û¶","Û·","Û¸","Û¹"];return e.toString().replace(/[Û°-Û¹]/g,e=>t.indexOf(e).toString())})(e);if(!/^\d{10}$/.test(t))return!1;const n=t.split("").map(Number),o=n[9];let r=0;for(let a=0;a<9;a++)r+=n[a]*(10-a);const s=r%11;return s<2&&o===s||s>=2&&o===11-s})(l.national_id))return f("Ú©Ø¯ Ù…Ù„ÛŒ ÙˆØ§Ø±Ø¯ Ø´Ø¯Ù‡ Ù…Ø¹ØªØ¨Ø± Ù†ÛŒØ³Øª"),void j(!1);try{const e=e=>{const t=["Û°","Û±","Û²","Û³","Û´","Ûµ","Û¶","Û·","Û¸","Û¹"];return e.toString().replace(/[Û°-Û¹]/g,e=>t.indexOf(e).toString())},t=l.time?{"10-12":"10:00","12-14":"12:00","14-16":"14:00","16-18":"16:00","18-20":"18:00"}[l.time]||"":"";if(console.log("Time validation:",{originalTime:l.time,convertedTime:t,hasTime:!!l.time,hasConvertedTime:!!t}),!l.time)return f("Ø²Ù…Ø§Ù† Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯"),void j(!1);const n={name:l.name,phone:l.phone?e(l.phone):"",national_id:l.national_id?e(l.national_id):"",province:l.province,city:l.city,consultation_type:l.consultationType,consultation_topic:l.consultation_topic,problem_description:l.problem_description,documents:l.documents,preferred_date:l.date,preferred_time:t,message:l.message};console.log("Sending data:",n),console.log("Original time:",l.time),console.log("Converted time:",t);const o=await d.createConsultation(n);o.success?(console.log("Data sent successfully"),g(!0)):f(o.error||"Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§")}catch(t){console.error("Error:",t),t instanceof Error?f(t.message):f("Ø®Ø·Ø§ Ø¯Ø± Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø³Ø±ÙˆØ±. Ù„Ø·ÙØ§Ù‹ Ø¨Ø¹Ø¯Ø§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.")}finally{j(!1)}},className:"space-y-6 bg-white p-8 sm:p-10 rounded-xl shadow-2xl",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsx(h,{id:"name",label:"Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ",type:"text",name:"name",value:l.name,onChange:y,icon:t.jsx(o,{})}),t.jsx(h,{id:"phone",label:"Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³",type:"tel",name:"phone",value:l.phone,onChange:y,icon:t.jsx(r,{})})]}),t.jsx(h,{id:"national_id",label:"Ú©Ø¯ Ù…Ù„ÛŒ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)",type:"text",name:"national_id",value:l.national_id,onChange:y,icon:t.jsx(o,{}),required:!1}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs(x,{id:"province",label:"Ø§Ø³ØªØ§Ù† (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)",name:"province",value:l.province,onChange:y,icon:t.jsx(s,{}),required:!1,children:[t.jsx("option",{value:"",children:"Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ø³ØªØ§Ù†"}),t.jsx("option",{value:"ØªÙ‡Ø±Ø§Ù†",children:"ØªÙ‡Ø±Ø§Ù†"}),t.jsx("option",{value:"Ø§ØµÙÙ‡Ø§Ù†",children:"Ø§ØµÙÙ‡Ø§Ù†"}),t.jsx("option",{value:"ÙØ§Ø±Ø³",children:"ÙØ§Ø±Ø³"}),t.jsx("option",{value:"Ø®ÙˆØ²Ø³ØªØ§Ù†",children:"Ø®ÙˆØ²Ø³ØªØ§Ù†"}),t.jsx("option",{value:"Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† Ø´Ø±Ù‚ÛŒ",children:"Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† Ø´Ø±Ù‚ÛŒ"}),t.jsx("option",{value:"Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ",children:"Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ"}),t.jsx("option",{value:"Ú¯ÛŒÙ„Ø§Ù†",children:"Ú¯ÛŒÙ„Ø§Ù†"}),t.jsx("option",{value:"Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†",children:"Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†"}),t.jsx("option",{value:"Ú©Ø±Ù…Ø§Ù†",children:"Ú©Ø±Ù…Ø§Ù†"}),t.jsx("option",{value:"Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†",children:"Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†"}),t.jsx("option",{value:"Ø³ÛŒØ³ØªØ§Ù† Ùˆ Ø¨Ù„ÙˆÚ†Ø³ØªØ§Ù†",children:"Ø³ÛŒØ³ØªØ§Ù† Ùˆ Ø¨Ù„ÙˆÚ†Ø³ØªØ§Ù†"}),t.jsx("option",{value:"Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ",children:"Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ"}),t.jsx("option",{value:"Ø®Ø±Ø§Ø³Ø§Ù† Ø´Ù…Ø§Ù„ÛŒ",children:"Ø®Ø±Ø§Ø³Ø§Ù† Ø´Ù…Ø§Ù„ÛŒ"}),t.jsx("option",{value:"Ø®Ø±Ø§Ø³Ø§Ù† Ø¬Ù†ÙˆØ¨ÛŒ",children:"Ø®Ø±Ø§Ø³Ø§Ù† Ø¬Ù†ÙˆØ¨ÛŒ"}),t.jsx("option",{value:"ÛŒØ²Ø¯",children:"ÛŒØ²Ø¯"}),t.jsx("option",{value:"Ù‡Ù…Ø¯Ø§Ù†",children:"Ù‡Ù…Ø¯Ø§Ù†"}),t.jsx("option",{value:"Ú©Ø±Ø¯Ø³ØªØ§Ù†",children:"Ú©Ø±Ø¯Ø³ØªØ§Ù†"}),t.jsx("option",{value:"Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡",children:"Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡"}),t.jsx("option",{value:"Ù„Ø±Ø³ØªØ§Ù†",children:"Ù„Ø±Ø³ØªØ§Ù†"}),t.jsx("option",{value:"Ú†Ù‡Ø§Ø±Ù…Ø­Ø§Ù„ Ùˆ Ø¨Ø®ØªÛŒØ§Ø±ÛŒ",children:"Ú†Ù‡Ø§Ø±Ù…Ø­Ø§Ù„ Ùˆ Ø¨Ø®ØªÛŒØ§Ø±ÛŒ"}),t.jsx("option",{value:"Ú©Ù‡Ú¯ÛŒÙ„ÙˆÛŒÙ‡ Ùˆ Ø¨ÙˆÛŒØ±Ø§Ø­Ù…Ø¯",children:"Ú©Ù‡Ú¯ÛŒÙ„ÙˆÛŒÙ‡ Ùˆ Ø¨ÙˆÛŒØ±Ø§Ø­Ù…Ø¯"}),t.jsx("option",{value:"Ø¨ÙˆØ´Ù‡Ø±",children:"Ø¨ÙˆØ´Ù‡Ø±"}),t.jsx("option",{value:"Ø§Ø±Ø¯Ø¨ÛŒÙ„",children:"Ø§Ø±Ø¯Ø¨ÛŒÙ„"}),t.jsx("option",{value:"Ø²Ù†Ø¬Ø§Ù†",children:"Ø²Ù†Ø¬Ø§Ù†"}),t.jsx("option",{value:"Ù‚Ø²ÙˆÛŒÙ†",children:"Ù‚Ø²ÙˆÛŒÙ†"}),t.jsx("option",{value:"Ø§Ù„Ø¨Ø±Ø²",children:"Ø§Ù„Ø¨Ø±Ø²"}),t.jsx("option",{value:"Ù…Ø±Ú©Ø²ÛŒ",children:"Ù…Ø±Ú©Ø²ÛŒ"}),t.jsx("option",{value:"Ø³Ù…Ù†Ø§Ù†",children:"Ø³Ù…Ù†Ø§Ù†"}),t.jsx("option",{value:"Ú¯Ù„Ø³ØªØ§Ù†",children:"Ú¯Ù„Ø³ØªØ§Ù†"}),t.jsx("option",{value:"Ù‚Ù…",children:"Ù‚Ù…"}),t.jsx("option",{value:"Ø§ÛŒÙ„Ø§Ù…",children:"Ø§ÛŒÙ„Ø§Ù…"})]}),t.jsx(h,{id:"city",label:"Ø´Ù‡Ø± (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)",type:"text",name:"city",value:l.city,onChange:y,icon:t.jsx(s,{}),required:!1})]}),t.jsxs(x,{id:"consultation_topic",label:"Ù…ÙˆØ¶ÙˆØ¹ Ù…Ø´Ø§ÙˆØ±Ù‡ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)",name:"consultation_topic",value:l.consultation_topic,onChange:y,icon:t.jsx(s,{}),required:!1,children:[t.jsx("option",{value:"",children:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…ÙˆØ¶ÙˆØ¹ Ù…Ø´Ø§ÙˆØ±Ù‡"}),t.jsx("option",{value:"Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ",children:"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ"}),t.jsx("option",{value:"Ú©ÛŒÙØ±ÛŒ",children:"âš–ï¸ Ú©ÛŒÙØ±ÛŒ"}),t.jsx("option",{value:"Ù…Ù„Ú©ÛŒ",children:"ğŸ  Ù…Ù„Ú©ÛŒ"}),t.jsx("option",{value:"Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±",children:"ğŸ’¼ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±"}),t.jsx("option",{value:"ÙˆØ±Ø§Ø«Øª",children:"ğŸ“œ ÙˆØ±Ø§Ø«Øª"}),t.jsx("option",{value:"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§",children:"ğŸ“‹ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§"}),t.jsx("option",{value:"Ø­Ù‚ÙˆÙ‚ Ú©Ø§Ø±",children:"ğŸ‘·â€â™‚ï¸ Ø­Ù‚ÙˆÙ‚ Ú©Ø§Ø±"}),t.jsx("option",{value:"Ø­Ù‚ÙˆÙ‚ Ù…Ø§Ù„ÛŒ",children:"ğŸ’° Ø­Ù‚ÙˆÙ‚ Ù…Ø§Ù„ÛŒ"}),t.jsx("option",{value:"Ø­Ù‚ÙˆÙ‚ Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„",children:"ğŸŒ Ø­Ù‚ÙˆÙ‚ Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„"}),t.jsx("option",{value:"Ø³Ø§ÛŒØ±",children:"â“ Ø³Ø§ÛŒØ±"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"problem_description",className:"block text-base font-bold text-gray-800 mb-2",children:"Ø´Ø±Ø­ Ø®Ù„Ø§ØµÙ‡ Ù…Ø´Ú©Ù„ Ø­Ù‚ÙˆÙ‚ÛŒ ÛŒØ§ Ù¾Ø±ÙˆÙ†Ø¯Ù‡ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)"}),t.jsx("textarea",{id:"problem_description",name:"problem_description",rows:4,value:l.problem_description,onChange:y,className:"w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-lg",placeholder:"Ø´Ø±Ø­ Ù…Ø®ØªØµØ±ÛŒ Ø§Ø² Ù…Ø´Ú©Ù„ Ø­Ù‚ÙˆÙ‚ÛŒ ÛŒØ§ Ù¾Ø±ÙˆÙ†Ø¯Ù‡ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-base font-bold text-gray-800 mb-2",children:"Ø¢Ù¾Ù„ÙˆØ¯ Ù…Ø¯Ø§Ø±Ú© Ø§Ø³Ø§Ø³ÛŒ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)"}),t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[t.jsx("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:e=>{const t=e.target.files;if(t){const e=Array.from(t).map(e=>e.name).join(", ");c(t=>({...t,documents:e}))}},className:"hidden",id:"document-upload"}),t.jsxs("label",{htmlFor:"document-upload",className:"cursor-pointer flex flex-col items-center space-y-2",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsx("span",{className:"text-blue-600 font-medium",children:"Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯"})," ÛŒØ§ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ú©Ø´ÛŒØ¯"]}),t.jsx("div",{className:"text-xs text-gray-500",children:"ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø¬Ø§Ø²: PDF, DOC, DOCX, JPG, PNG (Ø­Ø¯Ø§Ú©Ø«Ø± Û±Û°MB)"})]})]}),l.documents&&t.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded-lg",children:t.jsxs("div",{className:"text-sm text-gray-700",children:["ğŸ“ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡: ",l.documents]})})]}),t.jsxs(x,{id:"consultationType",label:"Ù†ÙˆØ¹ Ù…Ø´Ø§ÙˆØ±Ù‡",name:"consultationType",value:l.consultationType,onChange:y,icon:t.jsx(s,{}),children:[t.jsx("option",{value:"",children:"Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯..."}),t.jsx("option",{value:"in-person",children:"ğŸ¢ Ù…Ø´Ø§ÙˆØ±Ù‡ Ø­Ø¶ÙˆØ±ÛŒ"}),t.jsx("option",{value:"phone",children:"ğŸ“ Ù…Ø´Ø§ÙˆØ±Ù‡ ØªÙ„ÙÙ†ÛŒ"}),t.jsx("option",{value:"online",children:"ğŸ’» Ù…Ø´Ø§ÙˆØ±Ù‡ Ø¢Ù†Ù„Ø§ÛŒÙ† (ØªØµÙˆÛŒØ±ÛŒ)"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsx(p,{id:"date",label:"ØªØ§Ø±ÛŒØ® Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ",name:"date",value:l.date,onChange:e=>c(t=>({...t,date:e})),icon:t.jsx(a,{})}),t.jsxs(x,{id:"time",label:"Ø³Ø§Ø¹Øª Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ",name:"time",value:l.time,onChange:y,icon:t.jsx(i,{}),children:[t.jsx("option",{value:"",children:"Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯"}),t.jsxs("option",{value:"10-12",children:[u("Û±Û°")," Ø§Ù„ÛŒ ",u("Û±Û²")]}),t.jsxs("option",{value:"12-14",children:[u("Û±Û²")," Ø§Ù„ÛŒ ",u("Û±Û´")]}),t.jsxs("option",{value:"16-18",children:[u("Û±Û¶")," Ø§Ù„ÛŒ ",u("Û±Û¸")," (Ø¹ØµØ±)"]}),t.jsxs("option",{value:"18-20",children:[u("Û±Û¸")," Ø§Ù„ÛŒ ",u("Û²Û°")," (Ø¹ØµØ±)"]})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"message",className:"block text-base font-bold text-gray-800 mb-2",children:"Ø´Ø±Ø­ Ù…Ø®ØªØµØ± Ù…ÙˆØ¶ÙˆØ¹"}),t.jsx("textarea",{id:"message",name:"message",rows:6,value:l.message,onChange:y,required:!0,className:"w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-lg",placeholder:"Ù„Ø·ÙØ§Ù‹ Ø¨Ù‡ Ø·ÙˆØ± Ø®Ù„Ø§ØµÙ‡ Ù…ÙˆØ¶ÙˆØ¹ÛŒ Ú©Ù‡ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù…Ø´Ø§ÙˆØ±Ù‡ Ø¯Ø§Ø±ÛŒØ¯ Ø±Ø§ Ø¨ÛŒØ§Ù† Ú©Ù†ÛŒØ¯..."})]}),v&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:v}),t.jsx("button",{type:"submit",disabled:b,className:`w-full font-bold py-3 px-6 rounded-lg transition-all duration-300 transform shadow-lg hover:shadow-blue-500/50 ${b?"bg-gray-400 cursor-not-allowed":"bg-blue-700 hover:bg-blue-800 hover:scale-105"} text-white`,children:b?"Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„...":"Ø«Ø¨Øª Ùˆ Ø§Ø±Ø³Ø§Ù„ Ø¯Ø±Ø®ÙˆØ§Ø³Øª"})]})})]})})};export{m as default};
